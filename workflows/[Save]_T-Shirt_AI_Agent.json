[{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[-60,-40],"id":"782b9aab-f9ad-465d-9c97-e8b806d391b8","name":"When chat message received","webhookId":"c2cdd916-8378-43aa-b8ce-2c9671eeb20f"},{"parameters":{"promptType":"define","text":"={{ $json.body.message || $json.chatInput }}","options":{"systemMessage":"You are a T-Shirt customer service shop, your task is figure out what customer need and always use tool for query knowledge about T-Shirt in the shop. Use the data for answer the customer in Thai language"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[220,0],"id":"25350528-2ae1-4740-b0a2-fb8086877221","name":"AI Agent"},{"parameters":{"modelName":"models/gemini-2.0-flash","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[220,200],"id":"588847d4-af7f-4849-ba42-7d096a1c7180","name":"Google Gemini Chat Model","credentials":{"googlePalmApi":{"id":"Vspg2pOjqvwTHmiS","name":"Google Gemini(PaLM) Api account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"t_shirt_shop","toolDescription":"Knowledge about T-Shirt in the shop ","tableName":"documents","options":{"columnNames":{"values":{"vectorColumnName":"vector"}}}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.2,"position":[400,180],"id":"fb1e6429-8f86-47d2-b205-92032d2a416e","name":"Postgres PGVector Store","credentials":{"postgres":{"id":"RO5LGMbGqCgTpuVq","name":"Postgres account"}}},{"parameters":{"model":"bge-m3:latest"},"type":"@n8n/n8n-nodes-langchain.embeddingsOllama","typeVersion":1,"position":[400,320],"id":"92c1c04e-cdbe-4f1b-9bcc-776295f13287","name":"Embeddings Ollama","credentials":{"ollamaApi":{"id":"mpPHMCsPH0GQrSp9","name":"Ollama account"}}},{"parameters":{"httpMethod":"POST","path":"c066295e-4deb-4a64-b243-d6b874707f7a","responseMode":"lastNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-80,160],"id":"82c39959-c9be-4ba3-bd70-8f78c3814d93","name":"Webhook","webhookId":"c066295e-4deb-4a64-b243-d6b874707f7a"},{"parameters":{"mode":"raw","jsonOutput":"={\n  \"out\": \"{{ $json.output }}\"\n}","options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[620,-20],"id":"dbb87f76-3a90-45cb-990b-8f51c366a495","name":"Mapping Output"}]